{"ast":null,"code":"var _jsxFileName = \"/home/gercos/Documents/web/proyecto-evita/components/meet/MeetForm.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useState, useEffect, Fragment } from 'react';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport MeetFirstStep from './MeetFirstStep';\nimport MeetSecondStep from './MeetSecondStep';\nconst emailRegex = RegExp(/^[^@]+@[^@]+\\.[^@]+$/);\nconst phoneRegex = RegExp(/^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4,6})$/); // Step titles\n\nconst labels = ['Motivo', 'Fecha y hora', 'Confirmacion'];\n\nconst profesionales = motivo => {\n  if (motivo === \"Vacuna\") {\n    return [\"Ivana\", \"Gate Evite\"];\n  } else {\n    return [\"German\", \"Esi\"];\n  }\n};\n\nexport default function MeetForm() {\n  const {\n    0: steps,\n    1: setSteps\n  } = useState(0);\n  const {\n    0: fields,\n    1: setFields\n  } = useState({\n    motivo: '',\n    profesional: \"\",\n    firstName: '',\n    lastName: '',\n    email: '',\n    gender: '',\n    date: '',\n    city: '',\n    phone: ''\n  }); // Copy fields as they all have the same name\n\n  const {\n    0: filedError,\n    1: setFieldError\n  } = useState(_objectSpread({}, fields));\n  const {\n    0: isError,\n    1: setIsError\n  } = useState(false);\n  /*\n  \n  const handleNext = function(){\n  \tsetSteps(step )\n  }\n  \t*/\n\n  useEffect(() => {\n    console.log(\"Effect\");\n    const ret = profesionales(fields.motivo);\n    setFields(_objectSpread(_objectSpread({}, fields), {}, {\n      [profesional]: ret\n    }));\n  }, [fields.motivo]); // Proceed to next step\n\n  const handleNext = () => setSteps(steps + 1); // Go back to prev step\n\n\n  const handleBack = () => setSteps(steps - 1); // Handle fields change\n\n\n  const handleChange = input => ({\n    target: {\n      value\n    }\n  }) => {\n    // Set values to the fields\n    console.log(\"HOLA\");\n    setFields(_objectSpread(_objectSpread({}, fields), {}, {\n      [input]: value\n    })); // Handle errors\n\n    const formErrors = _objectSpread({}, filedError);\n\n    const lengthValidate = value.length > 0 && value.length < 3;\n\n    switch (input) {\n      case 'firstName':\n        formErrors.firstName = lengthValidate ? 'Minimum 3 characaters required' : '';\n        break;\n\n      case 'lastName':\n        formErrors.lastName = lengthValidate ? 'Minimum 3 characaters required' : '';\n        break;\n\n      case 'email':\n        formErrors.email = emailRegex.test(value) ? '' : 'Invalid email address';\n        break;\n\n      case 'phone':\n        formErrors.phone = phoneRegex.test(value) ? '' : 'Please enter a valid phone number. i.e: xxx-xxx-xxxx';\n        break;\n\n      case 'city':\n        formErrors.city = lengthValidate ? 'Minimum 3 characaters required' : '';\n        break;\n\n      default:\n        break;\n    } // set error hook\n\n\n    Object.values(formErrors).forEach(error => error.length > 0 ? setIsError(true) : setIsError(false)); // set errors hook\n\n    setFieldError(_objectSpread({}, formErrors));\n  };\n\n  const handleSteps = step => {\n    switch (step) {\n      case 0:\n        return __jsx(MeetFirstStep, {\n          handleNext: handleNext,\n          handleChange: handleChange,\n          values: fields,\n          isError: isError,\n          filedError: filedError,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 6\n          }\n        });\n\n      case 1:\n        return __jsx(MeetSecondStep, {\n          handleNext: handleNext,\n          handleBack: handleBack,\n          handleChange: handleChange,\n          values: fields,\n          isError: isError,\n          filedError: filedError,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 6\n          }\n        });\n\n      case 2:\n        return __jsx(Confirm, {\n          handleNext: handleNext,\n          handleBack: handleBack,\n          values: fields,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 12\n          }\n        });\n\n      default:\n        break;\n    }\n  }; // Handle components\n\n\n  return __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 3\n    }\n  }, steps === labels.length ? __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, \"Hola\") : __jsx(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, __jsx(Stepper, {\n    activeStep: steps,\n    style: {\n      paddingTop: 30,\n      paddingBottom: 50\n    },\n    alternativeLabel: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 6\n    }\n  }, labels.map(label => __jsx(Step, {\n    key: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 8\n    }\n  }, __jsx(StepLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, label)))), handleSteps(steps)));\n}","map":{"version":3,"sources":["/home/gercos/Documents/web/proyecto-evita/components/meet/MeetForm.js"],"names":["React","useState","useEffect","Fragment","Stepper","Step","StepLabel","MeetFirstStep","MeetSecondStep","emailRegex","RegExp","phoneRegex","labels","profesionales","motivo","MeetForm","steps","setSteps","fields","setFields","profesional","firstName","lastName","email","gender","date","city","phone","filedError","setFieldError","isError","setIsError","console","log","ret","handleNext","handleBack","handleChange","input","target","value","formErrors","lengthValidate","length","test","Object","values","forEach","error","handleSteps","step","paddingTop","paddingBottom","map","label"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport MeetFirstStep from './MeetFirstStep'\nimport MeetSecondStep from './MeetSecondStep'\n\n\nconst emailRegex = RegExp(/^[^@]+@[^@]+\\.[^@]+$/)\nconst phoneRegex = RegExp(/^\\D?(\\d{3})\\D?\\D?(\\d{3})\\D?(\\d{4,6})$/)\n// Step titles\n\nconst labels = [ 'Motivo', 'Fecha y hora', 'Confirmacion' ]\n\nconst profesionales = (motivo) => {\n    if(motivo === \"Vacuna\"){\n        return [\"Ivana\",\"Gate Evite\"]\n    }\n    else{\n        return [\"German\", \"Esi\"]\n    }\n}\n\nexport default function MeetForm(){\n\tconst [ steps, setSteps ] = useState(0)\n\tconst [ fields, setFields ] = useState({\n        motivo: '',\n        profesional:\"\",\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\temail: '',\n\t\tgender: '',\n\t\tdate: '',\n\t\tcity: '',\n\t\tphone: ''\n\t})\n\t// Copy fields as they all have the same name\n\tconst [ filedError, setFieldError ] = useState({\n\t\t...fields\n\t})\n\n\tconst [ isError, setIsError ] = useState(false)\n\n\t/*\n\t\n\tconst handleNext = function(){\n\t\tsetSteps(step )\n\t}\n\n\t*/ \n\n    useEffect(() => {\n\t\tconsole.log(\"Effect\")\n        const ret = profesionales(fields.motivo)\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[profesional]: ret\n\t\t})\n\t}, [fields.motivo])\n\t\n\t// Proceed to next step\n\tconst handleNext = () => setSteps(steps + 1)\n\t// Go back to prev step\n\tconst handleBack = () => setSteps(steps - 1)\n\n\t// Handle fields change\n\tconst handleChange = input => ({ target: { value } }) => {\n\t\t// Set values to the fields\n\t\tconsole.log(\"HOLA\")\n\n\t\tsetFields({\n\t\t\t...fields,\n\t\t\t[input]: value\n\t\t})\n\n\t\t// Handle errors\n\t\tconst formErrors = { ...filedError }\n\t\tconst lengthValidate = value.length > 0 && value.length < 3\n\n\t\tswitch (input) {\n\t\t\tcase 'firstName':\n\t\t\t\tformErrors.firstName = lengthValidate ? 'Minimum 3 characaters required' : ''\n\t\t\t\tbreak\n\t\t\tcase 'lastName':\n\t\t\t\tformErrors.lastName = lengthValidate ? 'Minimum 3 characaters required' : ''\n\t\t\t\tbreak\n\t\t\tcase 'email':\n\t\t\t\tformErrors.email = emailRegex.test(value) ? '' : 'Invalid email address'\n\t\t\t\tbreak\n\t\t\tcase 'phone':\n\t\t\t\tformErrors.phone = phoneRegex.test(value) ? '' : 'Please enter a valid phone number. i.e: xxx-xxx-xxxx'\n\t\t\t\tbreak\n\t\t\tcase 'city':\n\t\t\t\tformErrors.city = lengthValidate ? 'Minimum 3 characaters required' : ''\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\n\t\t// set error hook\n\t\tObject.values(formErrors).forEach(error => (error.length > 0 ? setIsError(true) : setIsError(false)))\n\t\t// set errors hook\n\t\tsetFieldError({\n\t\t\t...formErrors\n\t\t})\n\t}\n\n\tconst handleSteps = step => {\n\t\tswitch (step) {\n\t\t\tcase 0:\n\t\t\t\treturn (\n\t\t\t\t\t<MeetFirstStep\n\t\t\t\t\t\thandleNext={handleNext}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\tvalues={fields}\n\t\t\t\t\t\tisError={isError}\n\t\t\t\t\t\tfiledError={filedError}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\tcase 1:\n\t\t\t\treturn (\n\t\t\t\t\t<MeetSecondStep\n\t\t\t\t\t\thandleNext={handleNext}\n\t\t\t\t\t\thandleBack={handleBack}\n\t\t\t\t\t\thandleChange={handleChange}\n\t\t\t\t\t\tvalues={fields}\n\t\t\t\t\t\tisError={isError}\n\t\t\t\t\t\tfiledError={filedError}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\tcase 2:\n\t\t\t\treturn <Confirm handleNext={handleNext} handleBack={handleBack} values={fields} />\n\t\t\tdefault:\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\n\t// Handle components\n\treturn (\n\t\t<Fragment>\n\t\t\t{steps === labels.length ? (\n\t\t\t\t<h1>Hola</h1>\n\t\t\t) : (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Stepper activeStep={steps} style={{ paddingTop: 30, paddingBottom: 50 }} alternativeLabel>\n\t\t\t\t\t\t{labels.map(label => (\n\t\t\t\t\t\t\t<Step key={label}>\n\t\t\t\t\t\t\t\t<StepLabel>{label}</StepLabel>\n\t\t\t\t\t\t\t</Step>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Stepper>\n\t\t\t\t\t{handleSteps(steps)}\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</Fragment>\n\t)\n}\n"]},"metadata":{},"sourceType":"module"}